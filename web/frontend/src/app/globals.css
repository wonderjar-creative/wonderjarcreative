@import 'tailwindcss';
@source "../../data/*.json";
@source inline('size-full');
@source inline('{items-,self-}{start,center,end,stretch}');
@source inline('{justify-,content-}{start,center,end,between,around,evenly}');
@source inline('text-{1xs,xs,sm,base,lg,xl,2xl,3xl,4xl,5xl,6xl,7xl,8xl,9xl}');
@source inline('text-{teal,warm-coral,muted-brick-red,deep-black,retro-teal,soft-cream,charcoal-gray,marigold-yellow,white}');
@source inline('bg-{teal,warm-coral,muted-brick-red,deep-black,retro-teal,soft-cream,charcoal-gray,marigold-yellow,white}');
@source inline('border-{teal,warm-coral,muted-brick-red,deep-black,retro-teal,soft-cream,charcoal-gray,marigold-yellow,white}');
@source inline('bg-{gradient-tech,gradient-warm,gradient-subtle,gradient-radial-teal,gradient-radial-coral}');
@source inline('{top-,right-,bottom-,left-}{0}');

@theme {
  /* Colors */
  --color-teal: #50C9B4;
  --color-teal: oklch(0.7621 0.1122 179.72);
  --color-warm-coral: #F2685E;
  --color-warm-coral: oklch(0.6864 0.1721 26.7);
  --color-muted-brick-red: #C24D53;
  --color-muted-brick-red: oklch(0.5766 0.1502 20.08);
  --color-deep-black: #000000;
  --color-deep-black: oklch(0 0 0);
  --color-retro-teal: #4D7A7F;
  --color-retro-teal: oklch(0.5489 0.0499 204.73);
  --color-soft-cream: #EFE5D5;
  --color-soft-cream: oklch(0.9255 0.024 79.74);
  --color-charcoal-gray: #4E5664;
  --color-charcoal-gray: oklch(0.4514 0.0251 261.67);
  --color-marigold-yellow: #EAA221;
  --color-marigold-yellow: oklch(0.7636 0.1533 75.16);
  --color-white: #FFFFFF;
  --color-white: oklch(1 0 0);

  /* Gradients */
  --color-gradient-tech: linear-gradient(135deg, #50C9B4 0%, #4D7A7F 100%);
  --color-gradient-warm: linear-gradient(135deg, #F2685E 0%, #EAA221 100%);
  --color-gradient-subtle: linear-gradient(180deg, #EFE5D5 0%, #FFFFFF 100%);
  --color-gradient-radial-teal: radial-gradient(circle at 50% 0%, rgba(80, 201, 180, 0.2) 0%, transparent 70%);
  --color-gradient-radial-coral: radial-gradient(circle at 50% 0%, rgba(242, 104, 94, 0.2) 0%, transparent 70%);

  /* Spacing */
  --spacing-20: 10px;
  --spacing-30: 20px;
  --spacing-40: 30px;
  --spacing-50: clamp(30px, 5vw, 50px);
  --spacing-60: clamp(30px, 7vw, 70px);
  --spacing-70: clamp(50px, 7vw, 90px);
  --spacing-80: clamp(70px, 10vw, 140px);

  /* Alignment */
  --wide: 1280px;
  --narrow: 800px;
  
  /* Typography */
  --font-sans: var(--roboto), sans-serif;
  --font-cursive: var(--caveat), cursive;

  /* Font-Sizes */
  --font-size-1xs: 0.625rem; /* 10px */
  --font-size-xs: 0.75rem;   /* 12px */
  --font-size-sm: 0.875rem;  /* 14px */
  --font-size-base: 1rem;    /* 16px */
  --font-size-lg: 1.125rem;  /* 18px */
  --font-size-xl: 1.25rem;   /* 20px */
  --font-size-2xl: 1.5rem;   /* 24px */
  --font-size-3xl: 1.875rem; /* 30px */
  --font-size-4xl: 2.25rem;  /* 36px */
  --font-size-5xl: 3rem;     /* 48px */
  --font-size-6xl: 3.75rem;  /* 60px */
  --font-size-7xl: 4.5rem;   /* 72px */
  --font-size-8xl: 6rem;     /* 96px */
  --font-size-9xl: 8rem;     /* 128px */

  /* Padding */
  --global-padding: var(--spacing-30);
}

/* Base Layer: Foundational styles */
@layer base {
  body {
    @apply bg-soft-cream text-charcoal-gray font-sans text-[1.125rem] leading-normal tracking-normal;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply text-deep-black font-bold;
  }

  h1 {
    @apply text-7xl;
  }

  h2 {
    @apply text-6xl;
  }

  h3 {
    @apply text-5xl;
  }

  h4 {
    @apply text-4xl;
  }

  h5 {
    @apply text-sm;
  }

  h6 {
    @apply text-base;
  }

  :where(.wp-site-blocks) > *:not(:first-child),  
  :where(.constrained) > *:not(:first-child) {
    @apply [margin-block-start:var(--spacing-30)] [margin-block-end:0];
  }

  :where(.wp-site-blocks) > *:first-child,
  :where(.wp-site-blocks) > style:first-child + *{
    @apply [margin-block-start:0];
  }

  :where(.wp-site-blocks) > *:last-child {
    @apply [margin-block-end:0];
  }

  .wp-site-blocks:has(.wp-block-post-content > [style*="padding-bottom"]:last-child) > *:last-child {
    @apply [margin-block-start:0];
  }
}

/* Components Layer: Reusable UI components */
@layer components {
  .has-global-padding > .alignfull {
    @apply !-mx-[var(--global-padding)] !w-[100vw] !max-w-[100vw];
  }
  
  .has-global-padding > *:not(.alignfull):not(.alignwide) {
    @apply !mx-auto max-w-[var(--narrow)];
  }

  .wp-block-column[style*=flex-basis] {
    @apply flex-grow-0;
  }

  .flex {
    @apply gap-5;
  }

  .flow > * {
    @apply my-5;
  }

  .flow > *:first-child {
    @apply mt-0;
  }

  .flow > *:last-child {
    @apply mb-0;
  }

  main.wp-block-group > *:last-child:has(.has-background:last-child),
  main.wp-block-group > *:last-child:has([style*="padding-bottom"]:last-child) {
    @apply !pb-0;
  }

  main.wp-block-group:has( > *:last-child:has(.has-background:last-child) ) + footer.wp-block-template-part,
  main.wp-block-group:has( > *:last-child:has([style*="padding-bottom"]:last-child) ) + footer.wp-block-template-part {
    @apply !mt-0;
  }
}

/* Utilities Layer: Custom utility classes */
@layer utilities {
  .is-dark {
    @apply text-soft-cream;
  }

  .is-light {
    @apply text-deep-black;
  }

  /* Dot Grid Pattern Overlay */
  .dot-pattern {
    position: relative;
  }

  .dot-pattern::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: radial-gradient(circle, rgba(255, 255, 255, 0.15) 1px, transparent 1px);
    background-size: 20px 20px;
    pointer-events: none;
    z-index: 1;
  }

  :where(.dot-pattern > *) {
    position: relative;
    z-index: 2;
  }

  /* Override for wp-block-cover: apply pattern to background overlay instead of wrapper */
  .wp-block-cover.dot-pattern::before {
    display: none;
  }

  .wp-block-cover.dot-pattern .wp-block-cover__background::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: radial-gradient(circle, rgba(255, 255, 255, 0.15) 1px, transparent 1px);
    background-size: 20px 20px;
    pointer-events: none;
    z-index: 1;
  }

  /* Spacing */
  .spacing-20 { padding: var(--spacing-20); }
  .spacing-30 { padding: var(--spacing-30); }
  .spacing-40 { padding: var(--spacing-40); }
  .spacing-50 { padding: var(--spacing-50); }
  .spacing-60 { padding: var(--spacing-60); }
  .spacing-70 { padding: var(--spacing-70); }
  .spacing-80 { padding: var(--spacing-80); }

  /* Alignment */
  .alignfull {
    @apply mx-0 w-full;
  }

  .alignwide {
    @apply mx-auto w-full max-w-[var(--wide)];
  }

  .alignleft {
    @apply float-left mr-4
  }

  .alignright {
    @apply float-right ml-4;
  }
  
  .aligncenter {
    @apply mx-auto;
  }

  /* Padding */
  .has-global-padding {
    @apply px-[var(--global-padding)];
  }
}